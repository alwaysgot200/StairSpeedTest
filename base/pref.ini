# Stair Speedtest preferences

[common]
;Excluded remarks, nodes with these remarks will be ignored, supports regular expression
;one remark per line, index starts at 0
exclude_remarks0=(剩余流量|到期时间|过期时间|官网地址|产品名称)

;Included remarks, if defined (";" removed), only nodes with these remarks will be tested, supports regular expression
;one remark per line, index starts at 0
;include_remarks0=香港

[advanced]
# 控制日志面板/文件的输出级别：fatal|error|warn|info|debug|verbose
# 设置为 warn 可显著减少 TCPING/DEBUG 的冗余输出
log_level=warn
# 面包屑（崩溃前关键阶段记录），默认关闭
breadcrumb_enabled=false

;Basic testing toggles and mode
; speedtest_mode：测速模式（all=全部测试，filedl=下载测速，fileul=上传测速，ping=站点延时，nat=NAT类型）
; 建议保持 all；仅需某项时改为对应值
speedtest_mode=all
; test_site_ping：是否测试站点 ping
test_site_ping=true
; test_upload：是否测试上传（curl/POST）
test_upload=false
; test_nat_type：是否检测 NAT 类型（STUN）
test_nat_type=false

; 客户端偏好（Windows）：Shadowsocks 客户端 ss-libev 或 ss-csharp
preferred_ss_client=ss-libev
; 客户端偏好（Windows）：ShadowsocksR 客户端 ssr-libev 或 ssr-csharp
preferred_ssr_client=ssr-libev

; 解析到的配置端口覆盖（留空=不覆盖）
override_conf_port=

; 速度测试线程数（建议 4~8，过高可能影响稳定性）
thread_count=4

; 任务结束后是否暂停控制台（仅 CLI）
pause_on_done=true

; HTTP GET 最大体积（MB），默认 5MB
http_get_max_size_mb=5

; 站点 ping 的目标 URL
site_ping_url= https://www.google.com/

[webserver]
; 监听地址（默认仅本机访问）。改为 0.0.0.0 可外部访问（注意安全）
listen_address=127.0.0.1
; 监听端口（默认 10870）。需与启动脚本/参数一致
listen_port=10870
; HTTP 请求超时（秒）。影响订阅、下载等网络操作等待上限
http_timeout_seconds=1200
; 仅运行 WebServer（不进行测速）。取消注释启用
;;webserver_mode=true

[export]
; 是否导出图片（PNG），输出到 ./results/
export_picture=false
; 导出结果是否包含最大速度（MaxSpeed）一列
export_with_maxspeed=false

; 图片排序方法：none|speed|rspeed|ping|rping
export_sort_method=none

; 多链接测试时是否合并为一张图片
multilink_export_as_one_image=true

; 单链接测试是否强制导出图片
single_test_force_export=true

; 以新版样式导出（2.5+），与 WebUI 风格一致
export_as_new_style=true

; 速度颜色样式：original（经典）| rainbow（彩虹）| custom（自定义）
export_color_style=original

; 自定义颜色组（RGB 三元，0-65535），与 custom_color_bounds 数量对应
custom_color_groups=65535,65535,65535|32768,65535,0|65535,65535,0|65535,32768,49152|65535,0,0
; 自定义速度边界（Bytes/s），与颜色组一一对应
custom_color_bounds=0|65536|524288|4194304|16777216

[parse]
; 并行解析的阈值（节点数超过该值时启用并行）
parallel_threshold=512
; 并行解析线程数（0=自动，使用 CPU 核心数）
worker_count=0

; V2Ray 分片大小（每片节点数），影响内存与并发
v2ray_shard_size=1024
; 每片的并发度（不超过 v2ray_shard_size）
v2ray_group_concurrency=512

[rules]
; 下载测试文件列表（多行），格式：URL|TagName。TagName 用于匹配规则
test_file_urls=http://cachefly.cachefly.net/200mb.test|Cachefly
test_file_urls=http://updates-http.cdn-apple.com/2019FallFCS/fullrestores/061-22552/374D62DE-E18B-11E9-A68D-B46496A9EC6E/iPhone12,1_13.1.2_17A860_Restore.ipsw|Apple
test_file_urls=https://download.microsoft.com/download/2/0/E/20E90413-712F-438C-988E-FDAA79A8AC3D/dotnetfx35.exe|Default
test_file_urls=https://dl.google.com/android/studio/maven-google-com/stable/offline-gmaven-stable.zip|Google
; 规则格式：matchType|matchItem1|...|matchTag。匹配成功的节点将使用对应 Tag 的测试文件
rules=match_isp|Microsoft Corporation|Google
rules=match_isp|Google LLC|Default
